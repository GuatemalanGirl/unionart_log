<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´ ê°¤ëŸ¬ë¦¬ beta</title>
    <style>
        body { 
            margin: 0; 
            height: 100vh; 
            display: flex;
            flex-direction: column;
        }
        canvas { 
            display: block; 
            flex-grow: 1; 
        }
        .button-container {
            position: fixed; 
            bottom: 20px; 
            left: 50%; 
            transform: translateX(-50%); 
            display: flex;
            justify-content: center; 
            z-index: 10; 
        }
        button {
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .description-container {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            height: auto;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            display: none; 
            z-index: 20;
            overflow-y: auto;
        }

        .close-button {
            position: absolute;
            top: 1px;
            right: 1px;
            background: none;
            border: none;
            font-size: 20px;
            color: #333;
            cursor: pointer;
}

        .close-button:hover {
            color: red;
}

        #audioButton {
            margin-top: 10px;
            padding: 10px;
            font-size: 18px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }

        #audioButton:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="button-container">
        <button id="leftButton"><</button>
        <button id="descriptionButton">?</button>
        <button id="rightButton">></button>        
    </div>

    <div class="description-container" id="descriptionContainer">
        <h3 id="descriptionTitle">ê·¸ë¦¼ ì´ì•¼ê¸°</h3>
        <p id="descriptionText">ì„ íƒëœ ê·¸ë¦¼ì— ëŒ€í•œ ì´ì•¼ê¸°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
        <button id="audioButton">ğŸµ</button>
        <button id="closeButton"class="close-button">Ã—</button> <!-- X ë²„íŠ¼ ì¶”ê°€ -->
    </div>

    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js"></script>

    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        const geometry = new THREE.BoxGeometry(500, 500, 500);
        const texture = new THREE.TextureLoader().load('https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Hubble_ultra_deep_field.jpg/800px-Hubble_ultra_deep_field.jpg');
        const material = new THREE.MeshBasicMaterial({ 
            map: texture, 
            side: THREE.BackSide
        });

        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);
        camera.position.set(0, 20, -15);
        camera.lookAt(cube.position);

        const textureLoader = new THREE.TextureLoader();
            const imageDetails = [
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/le_sarrasin.jpg',
                description: '<strong>ì‚¬ë¼ì„¼ì˜ í‘¸ë¥¸ë³„</strong> le Sarrasin A L;etoile Bleu, 1973<br>í˜¸ì•ˆ ë¯¸ë¡œ Joan MIRO',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/25f89932-a5c7-40c0-8875-20f9197a14f5_%EC%82%AC%EB%9D%BC%EC%84%BC%EC%9D%98%ED%91%B8%EB%A5%B8%EB%B3%84-%EC%9D%8C%EC%95%85%EB%B3%80%EA%B2%BD.MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/campbells_soup.jpg',
                description: '<strong>ìº ë²¨ ìˆ˜í”„(ì‡ ê³ ê¸°)</strong><br>Campbell;s Soup Beef, 1962<br>ì•¤ë”” ì›Œí™€ Andy WARHOL',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/2313ae29-596f-4b3e-aa87-764d033b539c_%EC%BA%A0%EB%B2%A8%EC%8A%A4%ED%94%84(%EB%AA%A9%EC%86%8C%EB%A6%AC).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/diamond_dust_shoes.jpg',
                description: '<strong>ë‹¤ì´ì•„ëª¬ë“œ ê°€ë£¨ë¡œ ê·¸ë¦° êµ¬ë‘</strong><br>Diamond Dust Shoes, 1980<br>ì•¤ë”” ì›Œí™€ Andy WARHOL',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/1db9ea7e-2289-4528-9570-4471ae059a59_%EB%8B%A4%EC%9D%B4%EC%95%84%EB%AA%AC%EB%93%9C%EA%B0%80%EB%A3%A8%EB%A1%9C%EA%B7%B8%EB%A6%B0%EA%B5%AC%EB%91%90(%EC%9D%8C%EC%95%85).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/design_art.jpg',
                description: '<strong>â€œê·¸ë¦¼ì´ ë§ì„ ê±¸ì–´ì˜¨ë‹¤â€¦, Design? Art?!â€<br>â€œART(ì˜ˆìˆ )ë¼ëŠ” ì‚°ì—ì„œ ëŒ€ì¤‘(ìš°ë¦¬)ì—ê²Œ ë‚´ë ¤ì˜¨ ë””ìì¸! ê·¸ë¦¬ê³  ê·¸ë¦¼!â€</strong><br>í˜„ëŒ€ ì‚¬íšŒì—ì„œëŠ” ì˜ˆìˆ ê³¼ ë””ìì¸ì˜ ê²½ê³„ê°€ ì ì  ëª¨í˜¸í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤. íŒì•„íŠ¸ì˜ ìœ„ëŒ€í•œ ì°½ì‹œì ì•¤ë”” ì›Œí™€ì€ ì¼ë¶€ íŠ¹ê¶Œì¸µë§Œì˜ ì „ìœ ë¬¼ë¡œ ì—¬ê¸°ë˜ ì˜ˆìˆ (ê·¸ë¦¼)ì„ ìš°ë¦¬ ê³ìœ¼ë¡œ ëŒì–´ë‚´ë¦¬ê³ , í‰ë²”í•œ ëŒ€ì¤‘ë“¤ì´ì—¬! ìš°ë¦¬ ëª¨ë‘ ë§ˆìŒê» ì˜ˆìˆ ì„ ì¦ê¸°ìê³  ì™¸ì³¤ì§€ìš”. ì•¤ë”” ì›Œí™€ì˜ ì‘í’ˆ ì£¼ì œëŠ” ëŒ€ë¶€ë¶„ ìš°ë¦¬ì™€ ë§¤ìš° ì¹œìˆ™í•œ ì¸ë¬¼ì´ë‚˜ ìƒí’ˆë“¤ì…ë‹ˆë‹¤. ë¶€ë“œëŸ½ê³  ë§¤í˜¹ì ì´ë©° ì•„ë¦„ë‹µê¸° ê·¸ì§€ì—†ëŠ” ì•„ë¥´ëˆ„ë³´ ë¯¸ìˆ ì˜ ì°½ì‹œì ì•Œí°ìŠ¤ ë¬´í•˜ëŠ” í™”ì¥í’ˆ, ì¹´í˜ì˜ í¬ìŠ¤í„° ì œì‘ìë¡œ ê·¸ì˜ ì˜ˆìˆ ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤. íˆ´ë£¨ì¦ˆ ë¡œíŠ¸ë ‰ ì—­ì‹œ, íŒŒë¦¬ì˜ ìœ ëª…í•œ ëŒ„ìŠ¤í™€ì¸ ë¬¼ë­ë£¨ì¦ˆì˜ í¬ìŠ¤í„° ì‘ê°€ì…ë‹ˆë‹¤. ë¼íí…ëŠ ìš°í™”ì§‘ì˜ ì‚½í™” ì‘ê°€ì¸ ì•™ë¦¬ ë¥´ë§ˆë¦¬ì™€ í˜„ëŒ€ ê·¸ë˜í”½ ì•„íŠ¸ì˜ ëŒ€ê°€ì¸ ë ˆë¯¸ ë¸”ë‘ìƒ¤ë¥´ì— ì´ë¥´ê¸°ê¹Œì§€â€¦ ë¬´ê²ê³  ì§„ì§€í•˜ë©°, ì—„ê²©í•¨ì„ ê³ ìˆ˜í•˜ë˜ ì „í†µì ì¸ ì˜ˆìˆ (ê·¸ë¦¼)ì„ ì˜¤ë¡œì§€ ìš°ë¦¬ì™€ ê°™ì´ í‰ë²”í•œ ëŒ€ì¤‘ë“¤ì—ê²Œ <ì„ ë¬¼í•˜ê¸°> ìœ„í•´ ì• ì“´ ì„ ê°ìë“¤! ì´ë“¤ì˜ ì‘í’ˆ ì†ì—ì„œ í‰ë²”í•˜ì§€ë§Œ ì•„ë¦„ë‹µê³ , ì‰½ì§€ë§Œ ì² í•™ì ì´ë©°, ì¹œìˆ™í•˜ì§€ë§Œ ì¦ê±°ìš´ ìƒˆë¡œìš´ ì˜ˆìˆ  ì„¸ê³„ë¥¼ ê²½í—˜í•˜ê¸¸ ê¸°ëŒ€í•©ë‹ˆë‹¤.',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/a1d2f963-7512-45c2-b593-be44d6f4384e_%EB%94%94%EC%9E%90%EC%9D%B8%EC%95%84%ED%8A%B8%20%EC%84%9C%EB%AC%B8%20%EB%AA%A9%EC%86%8C%EB%A6%AC(%EC%9D%8C%EC%95%85).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/histoire_5.jpg',
                description: '<strong>ë§ê°ì˜ ì—­ì‚¬ 5</strong> Histoire oubliee 5, 1985<br>ë ˆë¯¸ ë¸”ë‘ìƒ¤ë¥´ Remi BLANCHARD',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/543d57b2-6a67-4ae8-aab9-fa26364bc47a_%EB%A7%9D%EA%B0%81%EC%9D%98%EC%97%AD%EC%82%AC5(%EC%9D%8C%EC%95%85).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/histoire_11.jpg',
                description: '<strong>ë§ê°ì˜ ì—­ì‚¬ 11</strong> Histoire oubliee 11, 1985<br>ë ˆë¯¸ ë¸”ë‘ìƒ¤ë¥´ Remi BLANCHARD',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/6359e086-48db-4e57-b52e-1a63311fa7f7_%EB%A7%9D%EA%B0%81%EC%9D%98%EC%97%AD%EC%82%AC%208%EB%B2%8811%EB%B2%88(%EA%B0%99%EC%9D%80%EB%82%B4%EC%9A%A9)%EC%9D%8C%EC%95%85.MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/histoire_13.jpg',
                description: '<strong>ë§ê°ì˜ ì—­ì‚¬ 13</strong> Histoire oubliee 13, 1985<br>ë ˆë¯¸ ë¸”ë‘ìƒ¤ë¥´ Remi BLANCHARD',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/2e295783-bbe9-4701-8d05-742fc267f28e_%EB%A7%9D%EA%B0%81%EC%9D%98%EC%97%AD%EC%82%AC13(%EC%9D%8C%EC%95%85).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/histoire_8.jpg',
                description: '<strong>ë§ê°ì˜ ì—­ì‚¬ 8</strong> Histoire oubliee 8, 1985<br>ë ˆë¯¸ ë¸”ë‘ìƒ¤ë¥´ Remi BLANCHARD',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/10f7efa6-017d-4905-ae22-a0c5d36db5fb_%EB%A7%9D%EA%B0%81%EC%9D%98%EC%97%AD%EC%82%AC%208%EB%B2%8811%EB%B2%88(%EA%B0%99%EC%9D%80%EB%82%B4%EC%9A%A9)%EC%9D%8C%EC%95%85.MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/reve_de_viille_3.jpg',
                description: '<strong>ê¿ˆì˜ ë„ì‹œ 3</strong> Reve de Ville 3<br>ì•Œë­ í† ë§ˆ Alain THOMAS',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/f8db119a-5a20-44ee-9ef3-9ac456c57860_%EA%BF%88%EC%9D%98%EB%8F%84%EC%8B%9C3(%EC%9D%8C%EC%95%85).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/foundation_maeght.jpg',
                description: '<strong>ë§¤ê·¸ ì•„íŠ¸ ì¬ë‹¨</strong> Foundation Maeght, 1968<br>í˜¸ì•ˆ ë¯¸ë¡œ Joan MIRO',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/b6b7fbee-3192-4248-8281-7c740d65d2d8_%EB%A7%A4%EA%B7%B8%EC%95%84%ED%8A%B8%EC%9E%AC%EB%8B%A8(%EC%9D%8C%EC%95%85).MP3'
            },
            {
                url: 'https://raw.githubusercontent.com/GuatemalanGirl/mygallery/refs/heads/main/paintings/miro_ceret.jpg',
                description: '<strong>ë¯¸ë¡œ ì„ë ˆ</strong> Miro Ceret, 1977<br>í˜¸ì•ˆ ë¯¸ë¡œ Joan MIRO',
                audioUrl: 'https://unionart.ne.kr/assets/upload/gallery/501f47c7-ef69-43ca-ac17-dba125efdecf_%EB%AF%B8%EB%A1%9C%EC%84%B8%EB%A0%88(%EC%9D%8C%EC%95%85).MP3'
            }
        ];

        const cubes = [];
        const radius = 30;
        let selectedCubeIndex = 0;
        let audio = new Audio(); // ì˜¤ë””ì˜¤ ê°ì²´ ìƒì„±
        let isPlaying = false;  // ì˜¤ë””ì˜¤ ì¬ìƒ ì—¬ë¶€ë¥¼ ì¶”ì 

        imageDetails.forEach((item, i) => {
            const texture = textureLoader.load(item.url, () => {
                const aspect = texture.image.width / texture.image.height;
                const width = 5;
                const height = width / aspect;
                const depth = 0.01;

                const whiteMaterial = new THREE.MeshBasicMaterial({ color: 0xFFFFFF });
                const imageMaterial = new THREE.MeshBasicMaterial({ map: texture });

                const materials = [
                    whiteMaterial, 
                    whiteMaterial, 
                    whiteMaterial, 
                    whiteMaterial, 
                    imageMaterial, 
                    whiteMaterial  
                ];

                const geometry = new THREE.BoxGeometry(width, height, depth);
                const cube = new THREE.Mesh(geometry, materials);

                const angle = (i / imageDetails.length) * Math.PI * 2;
                cube.position.x = radius * Math.cos(angle);
                cube.position.z = radius * Math.sin(angle);
                scene.add(cube);

                cubes.push(cube);
            });
        });

        camera.position.z = 50;
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.zoomSpeed = 2;
        controls.enableDamping = true;
        controls.dampingFactor = 0.25;
        controls.screenSpacePanning = false;
        controls.maxPolarAngle = Math.PI;
        controls.minDistance = 1;  
        controls.maxDistance = 200;  

        function focusOnCube(cube) {
            const offset = 10;
            new TWEEN.Tween(camera.position)
                .to({ x: cube.position.x, y: cube.position.y, z: cube.position.z + offset }, 1000)
                .easing(TWEEN.Easing.Quadratic.Out)
                .start();
            new TWEEN.Tween(controls.target)
                .to({ x: cube.position.x, y: cube.position.y, z: cube.position.z }, 1000)
                .easing(TWEEN.Easing.Quadratic.Out)
                .start();
        }

        function moveAndFocusCube(direction) {
            const step = direction === 'left' ? -1 : 1;
            selectedCubeIndex = (selectedCubeIndex + step + cubes.length) % cubes.length;
            const currentCube = cubes[selectedCubeIndex];
            focusOnCube(currentCube);
            updateDescription(selectedCubeIndex);

            // ê·¸ë¦¼ì´ ì´ë™í•  ë•Œ ì„¤ëª…ì°½ ë‹«ê¸°
            const descriptionContainer = document.getElementById('descriptionContainer');
            descriptionContainer.style.display = 'none'; // ì°½ ìˆ¨ê¸°ê¸°

            // ì˜¤ë””ì˜¤ ë©ˆì¶”ê¸°
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                document.getElementById('audioButton').textContent = 'ğŸµ'; // ë²„íŠ¼ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
            }    
        }

        function updateDescription(index) {
            const descriptionContainer = document.getElementById('descriptionContainer');
            const descriptionText = document.getElementById('descriptionText');
            const descriptionTitle = document.getElementById('descriptionTitle');
            descriptionText.innerHTML = imageDetails[index].description;
            descriptionTitle.textContent = "";  // ì œëª© ì¶”ê°€

            // ì˜¤ë””ì˜¤ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const audioButton = document.getElementById('audioButton');
            audioButton.removeEventListener('click', toggleAudio); // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
            audioButton.addEventListener('click', () => toggleAudio(index));

            // ì˜¤ë””ì˜¤ ë³€ê²½
            audio.src = imageDetails[index].audioUrl;
        }

        function toggleAudio(index) {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                document.getElementById('audioButton').textContent = 'ğŸµ';
            } else {
                audio.play();
                isPlaying = true;
                document.getElementById('audioButton').textContent = 'â¸ï¸';
            }
        }

        document.getElementById('leftButton').addEventListener('click', () => moveAndFocusCube('left'));
        document.getElementById('rightButton').addEventListener('click', () => moveAndFocusCube('right'));

        document.getElementById('descriptionButton').addEventListener('click', () => {
            const descriptionContainer = document.getElementById('descriptionContainer');
            const isVisible = descriptionContainer.style.display === 'block';
            descriptionContainer.style.display = isVisible ? 'none' : 'block';
        });

        document.getElementById('closeButton').addEventListener('click', () => {
            const descriptionContainer = document.getElementById('descriptionContainer');
            descriptionContainer.style.display = 'none'; // ì°½ ìˆ¨ê¸°ê¸°

             // ìŒì•… ë©ˆì¶”ê¸°
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                document.getElementById('audioButton').textContent = 'ğŸµ'; // ë²„íŠ¼ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
            }
        });

        function animate() {
            requestAnimationFrame(animate);
            TWEEN.update();
            controls.update();
            cube.rotation.x += 0.0001;
            cube.rotation.y += 0.0001;
            renderer.render(scene, camera);
        }

        animate();

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });
    </script>
</body>
</html>